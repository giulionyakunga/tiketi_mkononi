<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Account Deletion</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 500px; margin: 0 auto; padding: 20px; }
        .form-group { margin-bottom: 15px; }
        input, button { width: 100%; padding: 10px; margin-top: 5px; }
        button { background: #4285F4; color: white; border: none; cursor: pointer; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <h1>Delete Your Account</h1>
    
    <!-- Step 1: Email Submission -->
    <div id="step1">
        <p>Enter your email to request account deletion. A verification code will be sent to you.</p>
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" required>
        </div>
        <button onclick="sendVerificationCode()">Send Verification Code</button>
    </div>

    <!-- Step 2: Code Verification -->
    <div id="step2" class="hidden">
        <p>Check your email for a 6-digit code and enter it below.</p>
        <div class="form-group">
            <label for="code">Verification Code:</label>
            <input type="text" id="code" maxlength="6" required>
        </div>
        <button onclick="verifyCode()">Confirm Deletion</button>
    </div>

    <!-- Success Message -->
    <div id="success" class="hidden">
        <p>âœ… Your account deletion request has been submitted. All data will be deleted within 30 days.</p>
    </div>

    <script>
        // Store email for verification
        let userEmail = "";

        // Simulate sending a code (replace with Firebase/backend)
        function sendVerificationCode() {
            userEmail = document.getElementById("email").value;
            
            // TODO: Replace with actual email sending logic (Firebase/SendGrid/etc.)
            console.log("Sending code to:", userEmail);
            alert("A 6-digit code has been sent to your email."); 

            // Show next step
            document.getElementById("step1").classList.add("hidden");
            document.getElementById("step2").classList.remove("hidden");
        }

        // Simulate code verification
        function verifyCode() {
            const code = document.getElementById("code").value;
            
            // TODO: Replace with real verification (Firebase/backend check)
            console.log("Verifying code:", code);
            
            // On success:
            document.getElementById("step2").classList.add("hidden");
            document.getElementById("success").classList.remove("hidden");

            // TODO: Trigger actual account deletion in your database
        }
    </script>
</body>
</html>
